(this["webpackJsonpstratos-node-monitor"]=this["webpackJsonpstratos-node-monitor"]||[]).push([[9],{246:function(e,t,n){},488:function(e,t,n){"use strict";n.r(t);var s=n(8),c=n(13),i=n(3),a=n(89),o=n(481),r=n(86),l=n(486),u=n(10),d=n.n(u),j=n(0),b=n(191),m=n(192),f=n(157),h=n(76),p=n(33),x=n(60),O=(n(246),n(12)),g=o.a.TextArea;t.default=function(e){var t=e.isHandshaked,n=e.ppNodeUrl,u=Object(j.useState)(""),v=Object(i.a)(u,2),N=v[0],k=v[1],C=Object(j.useState)(""),y=Object(i.a)(C,2),w=y[0],E=y[1],S=Object(j.useState)(!1),T=Object(i.a)(S,2),z=T[0],I=T[1],A=Object(j.useState)(!1),U=Object(i.a)(A,2),Y=U[0],D=U[1],J=Object(j.useContext)(p.a),P=J.appStore;function _(){return(_=Object(c.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,navigator.clipboard.readText();case 4:t=e.sent,k(t),P.setSocketError("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(c.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,navigator.clipboard.readText();case 4:t=e.sent,E(t),P.setSocketError("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(j.useEffect)((function(){fetch("node_default_config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.wsUrl,n=e.monitorToken;t&&E((function(e){return t})),n&&k((function(e){return n}))})).catch((function(e){console.log("could not fetch json file. error -",e)}))}),[]),Object(j.useEffect)((function(){I((function(e){return t})),t&&r.a.success({message:"Success",description:"Connected to ".concat(n)}),D(!1)}),[t]),Object(j.useEffect)((function(){P.socketError&&(r.a.error({message:"Could not authenticate",description:"".concat(P.socketError)}),D(!1))}),[P.socketError]);var H=Object(i.a)(J.appStore.socketData,4),M=(H[0],H[1],H[2]),q=(H[3],Y?"button is-loading":" ");console.log("\ud83d\ude80 ~ file: index.tsx ~ line 125 ~ isConnecting",Y),console.log("\ud83d\ude80 ~ file: index.tsx ~ line 124 ~ isConnectingClasses",q);var B=!z;return Object(O.jsxs)("div",{className:"main-page-container columns",children:[Object(O.jsx)("section",{className:"section page-login column",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"block block-container",children:[Object(O.jsxs)("div",{className:"login-logo-container",children:[Object(O.jsx)("figure",{className:"image",children:Object(f.a)()}),Object(O.jsx)("p",{className:"logo-title is-size-4-desktop is-size-5-touch",children:"Node Monitor"})]}),Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsxs)("div",{className:"form-title is-flex  is-align-items-center",children:[Object(O.jsxs)("div",{className:"form-logo-title-container",children:[Object(O.jsx)("p",{className:"form-logo-title is-size-4-touch is-size-5-desktop",children:"Enter Your Node address"}),Object(O.jsx)(l.a,{title:h.d,placement:"top",color:h.c,children:Object(O.jsx)(a.a,{style:{fontSize:18,marginTop:-5}})})]}),Object(O.jsx)("div",{className:"paste-button-container is-flex is-align-items-center ",children:Object(O.jsx)(m.a,{title:"Paste from clipboard",width:"250px",className:d()("1button button-submit ",{inactive:z}),style:{justifyContent:"center",alignItems:"center",color:"white"},containerClassName:"is-pulled-right",handleClick:function(){return G.apply(this,arguments)}})})]}),Object(O.jsxs)("div",{className:"form-content ",children:[Object(O.jsx)("div",{className:"link-container input-container",children:Object(O.jsx)("div",{className:"link-input-container",children:Object(O.jsx)(o.a,{value:w,disabled:z,placeholder:"Node address",onChange:function(e){var t=e.currentTarget.value;E((function(e){return t}))}})})}),Object(O.jsxs)("div",{className:"go-button-container double-button is-flex is-justify-content-space-between is-align-content-space-between ",children:[Object(O.jsx)(m.a,{title:"Connect",width:"250px",className:d()("1button button-submit ",{inactive:z},q),disabled:z,style:{justifyContent:"center",alignItems:"center"},containerClassName:"is-pulled-right",handleClick:function(){w&&(D(!0),console.log("setting socket url",w),P.setSocketUrl(w))}}),Object(O.jsx)(m.a,{title:"Disconnect",width:"250px",className:d()("1button button-submit ",{inactive:B}),disabled:B,style:{justifyContent:"center",alignItems:"center"},containerClassName:"is-pulled-right",handleClick:function(){M()}})]})]})]}),Object(O.jsxs)("div",{className:"form-container",children:[Object(O.jsxs)("div",{className:"form-title is-flex  is-align-items-center",children:[Object(O.jsxs)("div",{className:"form-logo-title-container",children:[Object(O.jsx)("p",{className:"form-logo-title is-size-4-touch is-size-5-desktop",children:"Enter Your Token to Access"}),Object(O.jsx)(l.a,{title:h.b,placement:"top",color:h.c,children:Object(O.jsx)(a.a,{style:{fontSize:18,marginTop:-5}})})]}),Object(O.jsx)("div",{className:"paste-button-container is-flex is-align-items-center ",children:Object(O.jsx)(m.a,{title:"Paste from clipboard",width:"250px",className:d()("1button button-submit ",{inactive:B}),style:{justifyContent:"center",alignItems:"center",color:"white"},containerClassName:"is-pulled-right",handleClick:function(){return _.apply(this,arguments)}})})]}),Object(O.jsxs)("div",{className:"form-content ",children:[Object(O.jsx)("div",{className:"link-container",children:Object(O.jsxs)("div",{className:"link-input-container",children:[Object(O.jsx)(g,{value:N,rows:6,size:"large",onChange:function(e){k((function(t){return e.currentTarget.value})),P.setSocketError("")},disabled:B,placeholder:"Authentication Token"}),z&&P.socketError&&Object(O.jsx)("p",{className:"error-message has-text-danger has-text-centered",children:"Error. You are not authorized"})]})}),Object(O.jsx)("div",{className:"go-button-container is-flex is-justify-content-center is-align-items-center ",children:Object(O.jsx)(m.a,{title:"Go",width:"250px",className:d()("1button button-submit ",{inactive:B}),disabled:B,style:{justifyContent:"center",alignItems:"center"},containerClassName:"is-pulled-right",handleClick:function(){var e;N&&(e=N,console.log("token submitted ".concat(e)),Object(x.a)(e))}})})]})]})]})})}),Object(O.jsx)(b.a,{})]})}}}]);
//# sourceMappingURL=9.dfcd3475.chunk.js.map